<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ExoPlayer Mode Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Modern HLS Engine (ExoPlayer API davranışıyla uyumlu) -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js"></script>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: black;
}

video {
    width: 100%;
    height: 100%;
    object-fit: contain; /* ExoPlayer'daki EXACT SCALING */
    background: black;
}
</style>

</head>
<body>

<video id="v" playsinline webkit-playsinline></video>

<script>

// YAYIN BURAYA YAZILACAK
const STREAM_URL = "BURAYA_M3U8_YAZ";  // ★★★ SENİN YAYIN URL’İN ★★★

const video = document.getElementById("v");

// Tıklayınca durmayı tamamen engelle
video.addEventListener("pause", ()=> video.play());
video.addEventListener("click", e=> e.preventDefault());

// ExoPlayer BENZETİLMİŞ Kalite Kontrol
if (Hls.isSupported()) {

    const hls = new Hls({
        maxLiveSyncPlaybackRate: 1.5,
        liveSyncDurationCount: 2,

        // EXOPLAYER BUFFER MODE
        maxBufferSize: 50 * 1000 * 1000,
        maxBufferLength: 30,
        lowLatencyMode: true,
        enableWorker: true,
        capLevelToPlayerSize: false
    });

    hls.loadSource(STREAM_URL);
    hls.attachMedia(video);

    hls.on(Hls.Events.MANIFEST_PARSED, () => {
        // EN YÜKSEK KALİTEYE SABİTLE (ExoPlayer gibi)
        const best = hls.levels.length - 1;
        hls.currentLevel = best;

        video.play();
    });

} else {
    // Native HLS varsa direkt oynat
    video.src = STREAM_URL;
    video.play();
}

</script>

</body>
</html>
