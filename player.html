<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CanlÄ± YayÄ±n</title>

<style>
body {
  margin:0;
  background:black;
  overflow:hidden;
}

#videoContainer {
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
}

#player {
  width:100%;
  height:100%;
  object-fit:contain;
}

/* ALT BAR */
#controls {
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  padding:10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:rgba(0,0,0,0.35);
  transition:opacity .4s;
  opacity:0;
}

#controls.show { opacity:1; }

.liveGroup {
  display:flex;
  align-items:center;
  gap:6px;
}

.liveDot {
  width:10px;
  height:10px;
  background:red;
  border-radius:50%;
}

.liveText {
  color:white;
  font-size:16px;
}

#progress {
  width:70%;      /* SADECE BUNU DÃœÅžÃœRDÃœM â€“ TAÅžMA YOK */
}

#progress input {
  width:100%;
}

.ctrlBtn {
  font-size:26px;
  color:white;
  padding:4px;
  cursor:pointer;
}

</style>
</head>

<body>

<div id="videoContainer">

  <video id="player" playsinline></video>

  <div id="controls">
      <div class="liveGroup">
        <div class="liveDot"></div>
        <div class="liveText">LIVE</div>
      </div>

      <div id="progress">
        <input type="range" id="seek" min="0" max="100" value="0">
      </div>

      <div id="muteBtn" class="ctrlBtn">ðŸ”Š</div>
      <div id="fsBtn" class="ctrlBtn">â›¶</div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
let video = document.getElementById("player");
let controls = document.getElementById("controls");
let seek = document.getElementById("seek");
let fsBtn = document.getElementById("fsBtn");
let muteBtn = document.getElementById("muteBtn");

let hls;
let hideTimer;

/* --- STREAM YÃœKLEME (Senin Ã§alÄ±ÅŸan model) --- */
function loadStream(url){
    if(hls){ hls.destroy(); hls=null; }

    if(Hls.isSupported()){
        hls = new Hls({
            maxMaxBufferLength:60,
            liveSyncDuration:4
        });
        hls.loadSource(url);
        hls.attachMedia(video);
    } else {
        video.src = url;
    }
    video.play();
}

/* MANUEL TEST Ä°Ã‡Ä°N â†’ Buraya yayÄ±nÄ±nÄ± yazabilirsin */
loadStream("https://tv-trtspor1.medya.trt.com.tr/master.m3u8");

/* BAR GÄ°ZLEME */
function showControls(){
  controls.classList.add("show");
  clearTimeout(hideTimer);
  hideTimer = setTimeout(()=>controls.classList.remove("show"), 2500);
}
document.addEventListener("touchstart", showControls);
document.addEventListener("mousemove", showControls);

/* SEEKBAR */
video.addEventListener("timeupdate", ()=>{
    if(video.duration)
      seek.value = (video.currentTime / video.duration) * 100;
});

seek.oninput = ()=>{
    video.currentTime = (seek.value / 100) * video.duration;
};

/* SES */
muteBtn.onclick = ()=>{
  video.muted = !video.muted;
  muteBtn.textContent = video.muted ? "ðŸ”‡" : "ðŸ”Š";
};

/* TAM EKRAN */
fsBtn.onclick = ()=>{
  if(!document.fullscreenElement)
    video.requestFullscreen();
  else
    document.exitFullscreen();
};
</script>

</body>
</html>
